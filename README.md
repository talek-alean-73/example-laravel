

## 1.Создать докер контейнеры:
в консоли Перейти в корневой каталог и выполнить команду

    docker-compose up -d --build 
## 2.Зайти в докер-контейнер php:
в консоли выполнить команду

    docker ps

посмотреть CONTAINER ID контейнера для  example6-php-1 (image example6-php) и выполнить в консоли команду

    docker exec -it 21491c93750c sh    (вместо 21491c93750c написать свой CONTAINER ID)
## 3.Установить зависимости через composer
выполнить в этом контейнере команду

    composer install    (это можно выполнить и вне контейнера, если установлен глобально composer)
## 4.Установить зависимости для react
открываем новое окно консоли, выполняем команду

    docker ps

посмотреть CONTAINER ID контейнера для  laravel_node (image node:18-alpine) и выполнить в консоли команду

    docker exec -it 61ee9529a4c1 sh   (вместо 61ee9529a4c1 написать свой CONTAINER ID)

в этом контейнере запускаем команду

    npm install
## 5.Запускаем сокет
в php контейнере выполнить команду

    php artisan websocket:serve

здесь будут отображаться все сообщения, которые будут отправлены в сокет

для дополнительной проверки работы сокета на бекенде можно установить библиотеку - в отдельной консоли, не в контейнере

    npm install -g wscat  (не в контейнере)

подключаемся к сокету

    wscat -c ws://localhost:8080 (не в контейнере)

отправляем там сообщения и там же они также будут отображаться
## 6.Запускаем отслеживание изменений для реакт (чтобы любые изменения в коде компилировались в js)

в контейнере node выполнить команду

    npm run watch

Теперь все готово для работы

## Для проверки работы сокета:

открываем 2 разных браузера и в адресных строках прописываем 

    http://localhost

в любом из браузеров в строке ввода пишем текст и нажимаем 'Отправить'
этот текст будет отправлен в сокет, а потом вернется на все страницы, у которых url = http://localhost


## Дополнительные команды для работы с проектом
всех их нужно выполнять контейнере php  -  example6-php-1 (image example6-php)

создать контроллер

    php artisan make:controller UserController

создать модель (С большой буквы, в единственном числе)

    php artisan make:model SocketSecurit

создать таблицу (имя таблицы во множественном числе)

    php artisan make:migration create_room_attach_operators_table --create=room_attach_operators

здесь имя таблицы room_attach_operators

после того как создавалась таблица, нужно выполнить команду

    php artisan migrate


## Команды работы с докером
запускаем 

    docker-compose up -d 

должно все без ошибок

чтобы зайти в терминал пакета смотрим какие пакеты

    docker ps

зайти в контейнер

    docker exec -it f9fc91edccc3 sh

посмотреть все контейнеры

    docker ps -a

удалить контейнеры

    docker rm <id>

запустить на создание контейнера

    docker-compose up -d --build



## Для работы в контейнере mysql

подключаемся к базе данных   user - имя пользователя 123456 - пароль 
в конце каждой команды должна быть ';'

    mysql -uuser -p123456;

    use laravel;    здесь laravel это имя базы данных
    

    show tables;   -     показать список таблиц в базе данных
     


